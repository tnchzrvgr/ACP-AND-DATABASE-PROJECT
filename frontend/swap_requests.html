{% extends "base.html" %}
{% block content %}

<section class="swap-requests-list">
    <h2 class="page-title">Swap Requests for Your Items</h2>

    {% if requests %}
        {% for req in requests %}
        <div class="swap-request-card">

            <div class="swap-info">
                <p><strong>Item:</strong> {{ req.item_title }}</p>
                <p><strong>Swapper Name:</strong> {{ req.swapper_name }}</p>
                <p><strong>Email:</strong> {{ req.swapper_email }}</p>
                <p><strong>Phone:</strong> {{ req.swapper_phone }}</p>
                <p><strong>Offered Item:</strong> {{ req.offered_item }}</p>
            </div>

            <div class="swap-actions">

                <a href="{{ url_for('chat_with_user', user_id=req.swapper_id) }}" class="btn-chat">Chat</a>

                <form action="{{ url_for('accept_swap', request_id=req.request_id) }}" method="POST">
                    <button type="submit" class="btn-accept">Accept</button>
                </form>

                <form action="{{ url_for('decline_swap', request_id=req.request_id) }}" method="POST">
                    <button type="submit" class="btn-decline">Decline</button>
                </form>

            </div>

        </div>
        {% endfor %}
    {% else %}
        <p class="empty-text">No swap requests for your items yet.</p>
    {% endif %}
</section>

{% endblock %}
