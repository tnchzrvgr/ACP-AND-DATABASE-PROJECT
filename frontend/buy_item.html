{% extends "base.html" %}
{% block content %}

<section class="purchase-section">
    <div class="purchase-card">

        <h2 class="purchase-title">Purchase Item</h2>

        <form method="POST">

            <div class="form-group">
                <label>Your Name</label>
                <input type="text" name="buyer_name" placeholder="Enter your name" required>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input type="email" name="buyer_email" placeholder="Enter your email" required>
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" name="buyer_phone" placeholder="Enter your phone number" required>
            </div>

            <div class="form-group" id="delivery_address_div" style="display:none;">
                <label>Delivery Address</label>
                <textarea name="delivery_address" placeholder="Enter your delivery address"></textarea>
            </div>

            <div class="form-group">
                <label>Delivery Option</label>
                <select name="delivery_option" id="delivery_option" required onchange="toggleAddress()">
                    <option value="Pickup">Pickup</option>
                    <option value="Delivery">Delivery</option>
                </select>
            </div>

            <script>
            function toggleAddress() {
                const option = document.getElementById('delivery_option').value;
                const addressDiv = document.getElementById('delivery_address_div');
                if(option === 'Delivery'){
                    addressDiv.style.display = 'block';
                } else {
                    addressDiv.style.display = 'none';
                }
            }
            </script>
            <div class="form-group">
                <label>Quantity</label>
                <input type="number" name="quantity" min="1" max="{{ item.quantity }}" value="1" required>
            </div>

            
            <div class="form-group">
                <label>Payment Method</label>
                <select name="payment_method" required>
                    <option value="Cash">Cash</option>
                    <option value="GCash">GCash</option>
                    <option value="Bank Transfer">Bank Transfer</option>
                </select>
            </div>

            <div class="form-group">
                <label>Note (Optional)</label>
                <textarea name="note" rows="3" placeholder="Any special instructions..."></textarea>
            </div>

            <button type="submit" class="btn-purchase">Confirm Purchase</button>
        </form>
    </div>
</section>

{% endblock %}
